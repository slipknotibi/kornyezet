<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Képes memóriajáték – Liliennek</title>
<style>
    body { font-family: system-ui; background:#f5f5f5; padding:20px; text-align:center; }
    h1 { margin-bottom:20px; }
    #game { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; max-width:600px; margin:0 auto; }
    .card { background:white; border-radius:10px; height:120px; display:flex; align-items:center; justify-content:center; cursor:pointer; position:relative; transform-style:preserve-3d; transition:0.4s; }
    .card img { width:80px; height:80px; object-fit:contain; }
    .card.flipped { transform:rotateY(180deg); }
    .front, .back { position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; align-items:center; justify-content:center; border-radius:10px; }
    .front { background:#4caf50; color:white; font-size:24px; }
    .back { background:white; transform:rotateY(180deg); padding:5px; }
    .matched { visibility:hidden; }
    #reset { margin-top:20px; padding:10px 20px; font-size:18px; }
</style>
</head>
<body>

<h1>Képes memóriajáték – Liliennek</h1>

<div id="game"></div>
<button id="reset">Újrakeverés</button>

<script>
const pairs = [
    { img:"https://i.imgur.com/4ZQZ4yP.png", text:"Emlős" },
    { img:"https://i.imgur.com/8qYp8Qm.png", text:"Madár" },
    { img:"https://i.imgur.com/1q0pZ8Q.png", text:"Hal" },
    { img:"https://i.imgur.com/8x5jYvV.png", text:"Csuka – ragadozó" },
    { img:"https://i.imgur.com/8c4mQ9L.png", text:"Gyökér – rögzít" },
    { img:"https://i.imgur.com/3xq9X7p.png", text:"Levél – táplálékkészítés" },
    { img:"https://i.imgur.com/8tq3Y8G.png", text:"Virág – szaporodás" },
    { img:"https://i.imgur.com/7xq8Y9H.png", text:"Amur – növényevő" },
    { img:"https://i.imgur.com/6q8Y7pL.png", text:"Ponty – mindenevő" },
    { img:"https://i.imgur.com/5xq8Y6K.png", text:"Légzés" }
];

let cards = [];

function initGame() {
    const game = document.getElementById("game");
    game.innerHTML = "";
    cards = [];

    let deck = [];
    pairs.forEach((p, i) => {
        deck.push({ id:i, type:"img", value:p.img });
        deck.push({ id:i, type:"text", value:p.text });
    });

    deck.sort(() => Math.random() - 0.5);

    deck.forEach((cardData, index) => {
        const card = document.createElement("div");
        card.className = "card";
        card.dataset.id = cardData.id;
        card.dataset.type = cardData.type;

        const front = document.createElement("div");
        front.className = "front";
        front.textContent = "?";

        const back = document.createElement("div");
        back.className = "back";

        if (cardData.type === "img") {
            const img = document.createElement("img");
            img.src = cardData.value;
            back.appendChild(img);
        } else {
            back.textContent = cardData.value;
        }

        card.appendChild(front);
        card.appendChild(back);

        card.addEventListener("click", () => flipCard(card));

        game.appendChild(card);
        cards.push(card);
    });
}

let flipped = [];
let lock = false;

function flipCard(card) {
    if (lock || card.classList.contains("flipped")) return;

    card.classList.add("flipped");
    flipped.push(card);

    if (flipped.length === 2) {
        lock = true;
        setTimeout(checkMatch, 800);
    }
}

function checkMatch() {
    const [a, b] = flipped;

    if (a.dataset.id === b.dataset.id && a.dataset.type !== b.dataset.type) {
        a.classList.add("matched");
        b.classList.add("matched");
    } else {
        a.classList.remove("flipped");
        b.classList.remove("flipped");
    }

    flipped = [];
    lock = false;
}

document.getElementById("reset").addEventListener("click", initGame);

initGame();
</script>

</body>
</html>
